<ng-container *ngIf="(recipe$ | async) as recipe else loading">
    <ScrollView>
        <StackLayout>
            <Label fontSize="35" textWrap="true" fontWeight="bold">{{ recipe.name }}</Label>
            <mm-recipe-details-header [imageUrl]="recipe.imageUrl"
                                      [recipeName]="recipe.name"></mm-recipe-details-header>
            <mm-content *ngIf="recipe.description" title="Description">
                <Label fontSize="20" textWrap="true">{{ recipe.description }}</Label>
            </mm-content>
            <mm-content title="Ingredients">
                <mm-ingredient-list [servings]="recipe.servings"
                                    [ingredients]="recipe.ingredients"></mm-ingredient-list>
            </mm-content>
            <mm-content [contentInline]="true" title="Servings">
                <mm-amount-picker [(amount)]="recipe.servings"></mm-amount-picker>
            </mm-content>
            <mm-content title="Nutrition" [contentVisible]="false"
                        *ngIf="Object.keys(recipe.nutritionInformation).length > 0">
                <mm-nutrition [servings]="recipe.servings" [nutrition]="recipe.nutritionInformation"></mm-nutrition>
            </mm-content>
            <mm-content title="Preparation">
                <mm-preparation-instructions [instructions]="recipe.instructions"></mm-preparation-instructions>
            </mm-content>

        </StackLayout>
    </ScrollView>
</ng-container>
<ng-template #loading>
    <GridLayout>
        <ActivityIndicator busy="true"></ActivityIndicator>
    </GridLayout>
</ng-template>
